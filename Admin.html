<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            background-color: #f9f9f9;
        }
        .dropdown-content a {
            padding: 8px;
            text-decoration: none;
            color: #ddd;
            display: block;
            position: relative;
            transition: color 0.3s ease;
        }
        .dropdown-content a::after {
            content: "";
            position: absolute;
            left: 0;
            bottom: 0;
            width: 0;
            height: 2px;
            background-color: #4CAF50;
            transition: width 0.3s ease;
        }
        .dropdown-content a:hover::after,
        .dropdown-content a.active::after {
            width: 100%;
        }
        .dropdown-content a:hover {
            color: #4CAF50;
        }
        .content-section form {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: bold;
        }
        .form-group input {
            width: calc(100% - 16px);
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }
        .form-group button {
            padding: 12px 24px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            font-size: 16px;
        }
        .form-group button:hover {
            background-color: #45a049;
        }
        .admin-container {
            display: flex;
            width: 100%;
        }
        .sidebar {
            width: 220px;
            background-color: #333;
            color: white;
            padding: 20px;
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
        }
        .sidebar h2 {
            text-align: center;
            color: #fff;
        }
        .sidebar a {
            display: block;
            padding: 10px;
            text-decoration: none;
            color: #ddd;
            margin-bottom: 5px;
            cursor: pointer;
            border-radius: 4px;
        }
        .sidebar a:hover {
            background-color: #575757;
        }
        .dropdown {
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 5px;
            padding: 10px;
            color: #ddd;
            border-radius: 4px;
            background-color: #444;
        }
        .dropdown:hover {
            background-color: #575757;
        }
        .dropdown-content {
            display: none;
            margin-left: 20px;
            padding-left: 20px;
            border-left: 2px solid #444;
        }
        .dropdown-content a {
            padding: 8px;
            text-decoration: none;
            color: #ddd;
            display: block;
        }
        .dropdown-content a:hover {
            background-color: #575757;
        }
        .dropdown-arrow {
            transition: transform 0.3s ease;
        }
        .dropdown.active .dropdown-arrow {
            transform: rotate(90deg);
        }
        .main-content {
    margin-left: 240px;
    padding: 20px;
    width: calc(100% - 260px); /* Adjust this value to make it narrower */
    background-color: #fff;
    min-height: 100vh;
    position: relative;
    max-width: 1200px; /* Optional: Set a max width for better control */
    box-sizing: border-box;
}

        
        h2 {
            color: #333;
            text-align: center;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .form-group {
            margin-bottom: 15px;
            margin-bottom: 5px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: #333;
        }
        .form-group input , .form-group textarea{
            width: 100%;
            padding: 10px;
            padding-left: 40px;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .form-group button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .form-group button:hover {
            background-color: #45a049;
        }
        .sign-out-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: #f44336;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .sign-out-btn:hover {
            background-color: #d32f2f;
        }
        #password-error {
            color: red;
            text-align: center;
            margin-top: 10px;
        }
        .input-container {
    position: relative;
    display: flex;
    align-items: center;
}

.input-container i {
    position: absolute;
    left: 10px;
    color: #999;
}

.input-container .toggle-password {
    position: absolute;
    right: 10px;
    cursor: pointer;
    color: #999;
}

.input-container input {
    padding-left: 40px; /* Space for the icon */
}

        
        #form-success-message {
            color: green;
            text-align: center;
            margin-top: 10px;
        }

        .form-group .gender-label {
    display: inline-block;
    margin-right: 20px;
    }
   
    .form-group input[type="radio"] {
            width: auto;
            margin-right: 10px;
        }
        .form-group .gender-label {
            display: inline-block;
            margin-right: 10px;
            color: #0a0a0a;
        }
.container{
    background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 900px;
}
.gender-label{
    margin-right: 10px;
}
.button:hover{
    background-color: #0056b3;
}
.action-button{
    background-color: #dc3545;
    color: #ffffff;
    padding: 5px 10px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
}
.action-button:hover{
    background-color: #c82333;
}
table{
    width:100%;
    border-collapse: collapse;
    margin-top: 20px;

}

table,th,td{
    border: 1px solid #ddd;

}

th,td{
    padding: 12px;
    text-align: left;

}

th{
    background-color: #007bff;
    color: white;

}

tr:hover{
    background-color: #ddd;
}


    </style>
</head>
<body>

<div class="admin-container">
    <!-- Sidebar -->
    <div class="sidebar">
        <h2>Admin Panel</h2>
        <a data-target="add-grievance-member"><i class="fas fa-user-plus"></i>Add Grievance Cell Member</a>

        <!-- Pending Approvals Dropdown -->
        <div class="dropdown">
            <span><i class="fas fa-clock"></i> Pending Approvals</span>
            <span class="dropdown-arrow">▶</span>
            <div class="dropdown-content">
                <a data-target="students-pending"><i class="fas fa-user-graduate"></i> Students</a>
                <a data-target="teachers-pending"><i class="fas fa-chalkboard-teacher"></i> Teachers</a>
                <a data-target="non-teaching-pending"><i class="fas fa-users-cog"></i> Non-Teaching Staff</a>
            </div>
        </div>

        <!-- Approved Users Dropdown -->
        <div class="dropdown">
            <span><i class="fas fa-check-circle"></i> Approved Users</span>
            <span class="dropdown-arrow">▶</span>
            <div class="dropdown-content">
                <a data-target="students-approved"><i class="fas fa-user-graduate"></i> Students</a>
                <a data-target="teachers-approved"><i class="fas fa-chalkboard-teacher"></i> Teachers</a>
                <a data-target="non-teaching-approved"><i class="fas fa-users-cog"></i> Non-Teaching Staff</a>
            </div>
        </div>

        <a data-target="edit-user-profile"><i class="fas fa-user-edit"></i> Edit User Profile</a>
        <a data-target="change-password"><i class="fas fa-lock"></i> Change Password</a>
        <a data-target="grievances"><i class="fas fa-exclamation-triangle"></i> Grievances</a>
        <a data-target="reports"><i class="fas fa-file-alt"></i> Reports</a>
        <a data-target="all-grievance-members"><i class="fas fa-users"></i> All Grievance Members</a>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <h2>Admin Dashboard</h2>
        <div id="success-message" style="display: none; color: green; text-align: center; margin-bottom: 20px;">
            Action was successful!
        </div>
        
        
        <!-- Sign Out Button -->
        <button class="sign-out-btn" id="sign-out-btn">Sign Out</button>

        <!-- Add Grievance Cell Member Section -->
        <div id="add-grievance-member" class="content-section">
            <h2>Add Grievance Cell Member</h2>
            <form id="add-member-form">
                <div class="form-group">
                    <label for="member-name">Name</label>
                    <div class="input-container">
                        <i class="fas fa-user"></i>
                        <input type="text" id="member-name" name="name" placeholder="Enter name" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Gender:</label>
                    <label class="gender-label">
                        <input type="radio" id="male" name="gender" value="male" required> Male
                    </label>
                    <label class="gender-label">
                        <input type="radio" id="female" name="gender" value="female" required> Female
                    </label>
                    <label class="gender-label">
                        <input type="radio" id="other" name="gender" value="other" required> Other
                    </label>
                </div>

                <div class="form-group">
                    <label for="member-designstion">Degination</label>
                    <div class="input-container">
                        <i class="fas fa-tag"></i>
                        <input type="text" id="member-degination" name="degination" placeholder="Enter degination" required>
                    </div>
                </div>


                <div class="form-group">
                    <label for="member-email">Email</label>
                    <div class="input-container">
                        <i class="fas fa-envelope"></i>
                        <input type="email" id="member-email" name="email" placeholder="Enter email" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="member-contact">Contact No.</label>
                    <div class="input-container">
                        <i class="fas fa-phone icon"></i>
                        <input type="tel" id="member-contact" name="contact" placeholder="Enter number" required>
                    </div>
                </div>
              

                <div class="form-group">
                    <label for="member-password">Password</label>
                    <div class="input-container">
                        <i class="fas fa-lock icon"></i>
                        <input type="password" id="member-password" name="password" placeholder="Enter password" required>
                    </div>
                </div>

                <div class="form-group">
                    <button type="submit">Add Member</button>
                </div>
                <div id="form-success-message" style="display: none;">Member added successfully!</div>
            </form>
        </div>

        <!-- Pending Approvals Sections -->
        <div class="content-section" id="students-pending">
            <h3>Pending Student Approvals</h3>
            <!-- Add content for pending student approvals -->
        </div>

        <div class="content-section" id="teachers-pending">
            <h3>Pending Teacher Approvals</h3>
            <!-- Add content for pending teacher approvals -->
        </div>

        <div class="content-section" id="non-teaching-pending">
            <h3>Pending Non-Teaching Staff Approvals</h3>
            <!-- Add content for pending non-teaching staff approvals -->
        </div>

        <!-- Approved Users Sections -->
        <div class="content-section" id="students-approved">
            <h3>Approved Students</h3>
            <!-- Add content for approved students -->
        </div>

        <div class="content-section" id="teachers-approved">
            <h3>Approved Teachers</h3>
            <!-- Add content for approved teachers -->
        </div>

        <div class="content-section" id="non-teaching-approved">
            <h3>Approved Non-Teaching Staff</h3>
            <!-- Add content for approved non-teaching staff -->
        </div>

        <!-- Edit User Profile Section -->
<div class="content-section" id="edit-user-profile">
    <h3>Edit User Profile</h3>
    <form id="edit-profile-form">
        <div class="form-group">
            <label for="edit-profile-name">Name:</label>
            <div class="input-container">
                <i class="fas fa-user"></i>
                <input type="text" id="edit-profile-name" name="name" placeholder="Enter your name"required>
            </div>
        </div>
        <div class="form-group">
            <label for="edit-profile-email">Email:</label>
            <div class="input-container">
                <i class="fas fa-envelope"></i>
                <input type="email" id="edit-profile-email" name="email" placeholder="Enter your email" required>
            </div>
        </div>
        <div class="form-group">
            <label for="edit-profile-phone">Phone:</label>
            <div class="input-container">
                <i class="fas fa-phone"></i>
                <input type="tel" id="edit-profile-phone" name="phone" placeholder="Enter your number"required>
            </div>
        </div>
       
        <div class="form-group">
            <button type="submit">Update Profile</button>
        </div>
        <div id="edit-profile-success-message" style="color: green; text-align: center; display: none;">
            Profile updated successfully!
        </div>

    </form>
</div>

        <!-- Change Password Section -->
        <div class="content-section" id="change-password">
            <h3>Change Password</h3>
            <form id="change-password-form">
                <div class="form-group">
                    <label for="current-password">Current Password:</label>
                    <div class="input-container">
                        <i class="fas fa-lock"></i>
                        <input type="password" id="current-password" name="current-password" placeholder="Enter current password" required>
                        <i1 class="fas fa-eye toggle-password" data-input="current-password"></i1>
                    </div>
                </div>
                <div class="form-group">
                    <label for="new-password">New Password:</label>
                    <div class="input-container">
                        <i class="fas fa-lock"></i>
                        <input type="password" id="new-password" name="new-password" placeholder="Enter new password" required>
                        <i1 class="fas fa-eye toggle-password" data-input="new-password"></i1>
                    </div>
                </div>
                <div class="form-group">
                    <label for="confirm-new-password">Confirm New Password:</label>
                    <div class="input-container">
                        <i class="fas fa-lock"></i>
                        <input type="password" id="confirm-new-password" name="confirm-new-password" placeholder="Confirm new password" required>
                        <i1 class="fas fa-eye toggle-password" data-input="confirm-new-password"></i1>
                    </div>
                </div>
                <div class="form-group">
                    <button type="submit">Change Password</button>
                </div>
                <div id="password-error" style="color: red; text-align: center; margin-top: 10px;"></div>
                <div id="change-password-success-message" style="display: none; color: green; text-align: center; margin-top: 10px;">
                    Password changed successfully!
                </div>
            </form>
            
        </div>

        <!-- Grievances Section -->
        <div class="content-section" id="grievances">
            <h3>Grievances</h3>
            <!-- Add content for grievances -->
        </div>

        <!-- Reports Section -->
        <div class="content-section" id="reports">
            <h3>Reports</h3>
            <!-- Add content for reports -->
        </div>

        <!-- All Grievance Members Section -->
         <!-- All Grievance Members Section -->
    <div class="content-section" id="all-grievance-members">
        <h3>All Grievance Members</h3>
        <table id="members-table">
            <thead>
                <tr>
                    <th>Sr. No.</th>
                    <th>Member Name</th>
                    <th>Gender</th>
                    <th>Designation</th>
                    <th>Email</th>
                    <th>Mobile No.</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <!-- Rows will be dynamically inserted here -->
            </tbody>
        </table>
    </div>
        <button class="sign-out-btn" onclick="signOut()">Sign Out</button>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', () => {
    // Handle dropdown functionality
    document.querySelectorAll('.dropdown').forEach(dropdown => {
        dropdown.addEventListener('click', () => {
            dropdown.classList.toggle('active');
            const content = dropdown.querySelector('.dropdown-content');
            content.style.display = content.style.display === 'block' ? 'none' : 'block';
        });
    });

    // Handle sidebar link clicks to show the relevant section
    document.querySelectorAll('.sidebar a').forEach(link => {
        link.addEventListener('click', () => {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            const targetId = link.getAttribute('data-target');
            document.getElementById(targetId).classList.add('active');
        });
    });

    // Handle sign-out button click
    document.getElementById('sign-out-btn')?.addEventListener('click', signOut);

    // Handle form submissions
    function handleFormSubmit(formId, successMessageId) {
        document.getElementById(formId)?.addEventListener('submit', (event) => {
            event.preventDefault();
            // Perform form submission logic here

            // Show success message
            const messageElement = document.getElementById(successMessageId);
            messageElement.style.display = 'block';

            // Clear the form fields
            document.getElementById(formId).reset();
        });
    }

    // Handle add member form submission
    document.getElementById('add-member-form')?.addEventListener('submit', (event) => {
        event.preventDefault();
        document.getElementById('form-success-message').style.display = 'block';
        document.getElementById('add-member-form').reset();
    });

    // Handle change password form submission
document.getElementById('change-password-form')?.addEventListener('submit', (event) => {
    event.preventDefault(); // Prevent the default form submission

    if (!checkPasswordMatch()) return; // Check if passwords match

    // Perform password change logic here

    // Show success message
    const messageElement = document.getElementById('change-password-success-message');
    if (messageElement) {
        messageElement.style.display = 'block';
    }

    // Clear the form fields
    document.getElementById('change-password-form').reset();
});

    // Handle edit profile form submission
    document.getElementById('edit-profile-form')?.addEventListener('submit', (event) => {
        event.preventDefault();
        // Perform the update profile logic here

        // Show success message
        const messageElement = document.getElementById('edit-profile-success-message');
        if (messageElement) {
            messageElement.style.display = 'block';
        }

        // Clear form fields
        document.getElementById('edit-profile-form').reset();
    });
});

// Function to check if new passwords match and validate the password strength
function checkPasswordMatch() {
    const currentPassword = document.getElementById('current-password').value;
    const newPassword = document.getElementById('new-password').value;
    const confirmPassword = document.getElementById('confirm-new-password').value;
    const errorElement = document.getElementById('password-error');
    
    const passwordRegex = /^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+}{":;'?/>.<,])[A-Za-z\d!@#$%^&*()_+}{":;'?/>.<,]{8,}$/;
    
    
    
    // Check if the new password is not the same as the current password
    if (currentPassword ==newPassword && currentPassword == confirmPassword) {
        errorElement.textContent = 'New password should not be the same as the current password.';
        return false;
    }

    // Validate password strength
    if (!passwordRegex.test(newPassword)) {
        errorElement.textContent = 'Password must be at least 8 characters long, contain one uppercase letter, one number, and one special character.';
        return false;
    }
    
    // Check if new password matches confirm password
    if (newPassword !== confirmPassword) {
        errorElement.textContent = 'Passwords do not match!';
        return false;
    } else {
        errorElement.textContent = '';
        return true;
    }
}
document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.toggle-password').forEach(toggle => {
        toggle.addEventListener('click', () => {
            const inputId = toggle.getAttribute('data-input');
            const inputElement = document.getElementById(inputId);
            
            // Toggle between password and text input types
            if (inputElement.type === 'password') {
                inputElement.type = 'text';
                toggle.classList.remove('fa-eye');
                toggle.classList.add('fa-eye-slash');
            } else {
                inputElement.type = 'password';
                toggle.classList.remove('fa-eye-slash');
                toggle.classList.add('fa-eye');
            }
        });
    });
});



// Sign out function
function signOut() {
    window.location.href = 'login.html'; // Adjust the URL to match your login page
}

</Script>
<script>
    // Initialize members array
    const members = [];

    // Function to populate the table with data
    function populateTable() {
        const tableBody = document.querySelector('#members-table tbody');
        tableBody.innerHTML = ''; // Clear the table before populating
        members.forEach(member => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${member.srNo}</td>
                <td>${member.name}</td>
                <td>${member.gender}</td>
                <td>${member.designation}</td>
                <td>${member.email}</td>
                <td>${member.contact}</td>
                <td><button class="action-button" onclick="deleteMember(${member.srNo})"><i class="fas fa-trash-alt"></i></button></td>
            `;
            tableBody.appendChild(row);
        });
    }

    // Function to handle member deletion
    function deleteMember(srNo) {
        const confirmation = confirm('Are you sure you want to delete this member?');
        if (confirmation) {
            // Remove the member from the data array
            const index = members.findIndex(member => member.srNo === srNo);
            if (index !== -1) {
                members.splice(index, 1);
                // Refresh the table
                populateTable();
            }
        }
    }

    // Handle form submission
    document.getElementById('add-member-form').addEventListener('submit', function(event) {
        event.preventDefault(); // Prevent the form from submitting normally

        // Get form values
        const name = document.getElementById('member-name').value;
        const gender = document.querySelector('input[name="gender"]:checked').value;
        const designation = document.getElementById('member-degination').value;
        const email = document.getElementById('member-email').value;
        const contact = document.getElementById('member-contact').value;
        const password = document.getElementById('member-password').value;

        // Generate new member object
        const newMember = {
            srNo: members.length + 1,
            name,
            gender,
            designation,
            email,
            contact,
            password
        };

        // Add new member to the array and refresh the table
        members.push(newMember);
        populateTable();

        // Show success message and reset the form
        document.getElementById('form-success-message').style.display = 'block';
        setTimeout(() => {
            document.getElementById('form-success-message').style.display = 'none';
        }, 3000);
        document.getElementById('add-member-form').reset();
    });

    // Populate the table on page load (if you want to add some initial data, you can do it here)
    document.addEventListener('DOMContentLoaded', populateTable);
</script>


</body>
</html>
